Flow co.acme.password
     Basepath ""
authServiceClass = Call io.jans.as.server.service.AuthenticationService#class 
authService = Call io.jans.service.cdi.util.CdiUtil#bean authServiceClass
authResult = {}
Repeat 3 times max
     it_lzijy = {success:false, error: "Authentication Failed, maximum authentication attempts reached."}
     Finish it_lzijy
creds = RRF "login.ftlh" authResult
authResult.success = Call authService authenticate creds.username creds.password
// check if authentication was success
When authResult.success is true
     Finish creds.username